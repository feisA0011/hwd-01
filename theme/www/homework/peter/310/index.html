<!DOCTYPE html>
<html lang="en">
<head>
	<title>Exercise 310</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css">
		/* DON'T CHANGE THIS CSS */
		body {margin: 0;}
		#page {width: 300px; margin: 0 auto;}
		#content div.field.focus input {border: 2px solid orange; outline: none;}
		/* ADD YOUR CSS HERE */


	</style>
</head>
<body>

<div id="page">
	<div id="header"></div>
	<div id="content">

		<form action="#" method="post" novalidate="novalidate">
			<fieldset>
				<div class="field string">
					<label for="input_firstname">First name</label>
					<input type="text" name="string" id="input_firstname" />
				</div>
				<div class="field string">
					<label for="input_lastname">Last name</label>
					<input type="text" name="lastname" id="input_lastname" />
				</div>
			</fieldset>

			<ul class="actions">
				<li class="save"><input type="submit" value="Save" class="button primary" /></li>
			</ul>

		</form>

	</div>
	<div id="footer"></div>
</div>

<script type="text/javascript">

	// ADD YOUR JS HERE
	var inputs = document.querySelectorAll("input[type='text']");

	var i;
	for(i = 0; i < inputs.length; i++) {
		inputs[i].addEventListener("focus", focused, false);
		inputs[i].addEventListener("blur", blurred, false);
		inputs[i].addEventListener("keyup", updated, false);

		inputs[i].parentElement.classList.add("input" + [i]); //Adding classes for the "update" event

		var mirror = document.createElement("div"); // adding div's and assigning them classes for "update"
		document.getElementById("content").appendChild(mirror);
		mirror.className = "mirror" + [i];
	}

	document.querySelector("form").addEventListener("submit", submitted, false);

	// "THIS" IS ALMOST THE SAME AS EVENT.TARGET
	function focused() {
		this.parentElement.classList.add("focus");
	}

	function blurred() {
		this.parentElement.classList.remove("focus");
	}

	function updated() {
		mirrortext = this.value;
		if (this.parentElement.classList.contains("input0")) {
			document.querySelector("div.mirror0").innerHTML = mirrortext;
		}
		
		else if (this.parentElement.classList.contains("input1")) {
			document.querySelector(".mirror1").innerHTML = mirrortext;
		}

	}

	function submitted() {
		alert("The form has (not) been submitted");
		return false;
	}



</script>

</body>
</html>