<!DOCTYPE html>
<html lang="en">
<head>
	<title>Exercise 304</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css">
		/* DON'T CHANGE THIS CSS */
		body {margin: 0;}
		#page {width: 300px; margin: 0 auto;}
		#content {min-height: 400px;}

		li.item.modified {background-color: green;}
		li.item.special {background-color: red;}

	</style>
</head>
<body>

<div id="page">
	<div id="header"></div>
	<div id="content">

		<ul class="modifyme">
			<li class="item">Item 1</li>
			<li class="item special">Item 2</li>
			<li class="item">Item 3</li>
			<li class="item">Item 4</li>
			<li class="item special">Item 5</li>
			<li class="item special">Item 6</li>
			<li class="item">Item 7</li>
			<li class="item special">Item 8</li>
		</ul>

		<ul class="dontmodifyme">
			<li class="item">Item 1</li>
			<li class="item">Item 2</li>
			<li class="item">Item 3</li>
			<li class="item">Item 4</li>
			<li class="item">Item 5</li>
			<li class="item">Item 6</li>
			<li class="item">Item 7</li>
			<li class="item">Item 8</li>
		</ul>

	</div>
	<div id="footer"></div>
</div>

<script type="text/javascript">

	// ADD YOUR JS HERE

	// UTIL FUNCTIONS
	function addClass(element, newClass){
		if(element.className == ""){
			element.className = newClass;
			return
		}
		var oldClassValue = element.className;
		var classes = oldClassValue.split(" ");
		var duplicateClass = false;
		classes.forEach(function(item){
			if(item == newClass){
				duplicateClass = true;
				return
			}
		})
		if (duplicateClass != true){
			var newClassValue = oldClassValue + " " + newClass;
			element.className = newClassValue;
		}
	}

	function deleteClass(element, className){
		var oldClassValue = element.className;
		var classes = oldClassValue.split(" ");
		classes.forEach(function(item, index){
			if(className == item){
				classes.splice(index, 1);
			}
		})
		var newClassValue = classes.join(" ");
		element.className = newClassValue;
		if(element.className == ""){
			element.removeAttribute("class");
		}
		return
	}

	// EXERCISE FUNCTION
	var elements = document.querySelectorAll("ul.modifyme li");
	function addOrRemoveClass(elements, classToRemove, classToAdd){
		for (var i = 0; i < elements.length; i++) {
			if((' ' + elements[i].className + ' ').indexOf(' ' + classToRemove + ' ') > -1){
				deleteClass(elements[i], classToRemove);		
			}
			else {
				addClass(elements[i], classToAdd);
			}
		}
	}
</script>


</body>
</html>