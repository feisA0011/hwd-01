<!DOCTYPE html>
<html lang="en">
<head>
	<title>Exercise 310</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css">
		/* DON'T CHANGE THIS CSS */
		body {margin: 0;}
		#page {width: 300px; margin: 0 auto;}
		#content div.field.focus input {border: 2px solid orange; outline: none;}


	</style>
</head>
<body>

<div id="page">
	<div id="header"></div>
	<div id="content">

		<form action="#" method="post" novalidate="novalidate">
			<fieldset>
				<div class="field string">
					<label for="input_firstname">First name</label>
					<input type="text" name="string" id="input_firstname" />
				</div>
				<div class="field string">
					<label for="input_lastname">Last name</label>
					<input type="text" name="lastname" id="input_lastname" />
				</div>
			</fieldset>

			<ul class="actions">
				<li class="save"><input type="submit" value="Save" class="button primary" /></li>
			</ul>

		</form>

	</div>
	<div id="footer"></div>
</div>

<script>
	var inputElements = document.querySelectorAll("form .field input");
	var contentDiv = document.getElementById("content");
	var activeInputMirror
	
	for(var i = 0; i < inputElements.length; i++) {
		inputElements[i].addEventListener("focus", addFocusClass, false);
		inputElements[i].addEventListener("blur", removeFocusClass, false);
		inputElements[i].addEventListener("keyup", mirrorContent, false);
		
		var mirror = document.createElement("DIV");
		contentDiv.appendChild(mirror).className = inputElements[i].id;
		mirror.innerHTML = "Mirror for " + inputElements[i].id + ": ";
	} 

	document.querySelector("form").addEventListener("submit", showSubmitAlert, false);

	function addFocusClass() {
		this.parentNode.classList.add("focus");
	};

	function removeFocusClass() {
		this.parentNode.classList.remove("focus");
	};

	function mirrorContent() {
		document.querySelector("." + this.id).innerHTML = "Mirror for " + this.id + ": " + this.value;
	};

	function showSubmitAlert() {
		alert("Submitted!");
		return false;
	};

</script>

</body>
</html>